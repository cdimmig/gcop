\section{gcop\-\_\-urdf\-:\-:\-Joint\-Safety \-Class \-Reference}
\label{classgcop__urdf_1_1JointSafety}\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}


\-Parameters for \doxyref{\-Joint}{p.}{classgcop__urdf_1_1Joint} \-Safety \-Controllers.  




{\ttfamily \#include $<$urdfjoint.\-h$>$}

\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
{\bf \-Joint\-Safety} ()
\begin{DoxyCompactList}\small\item\em clear variables on construction \end{DoxyCompactList}\item 
void {\bf clear} ()
\item 
bool {\bf init\-Xml} (\-Ti\-Xml\-Element $\ast$config)
\end{DoxyCompactItemize}
\subsection*{\-Public \-Attributes}
\begin{DoxyCompactItemize}
\item 
double {\bf soft\-\_\-upper\-\_\-limit}
\item 
double {\bf soft\-\_\-lower\-\_\-limit}
\item 
double {\bf k\-\_\-position}
\item 
double {\bf k\-\_\-velocity}
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-Parameters for \doxyref{\-Joint}{p.}{classgcop__urdf_1_1Joint} \-Safety \-Controllers. 

\subsection{\-Constructor \& \-Destructor \-Documentation}
\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}!\-Joint\-Safety@{\-Joint\-Safety}}
\index{\-Joint\-Safety@{\-Joint\-Safety}!gcop_urdf::JointSafety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}
\subsubsection[{\-Joint\-Safety}]{\setlength{\rightskip}{0pt plus 5cm}{\bf gcop\-\_\-urdf\-::\-Joint\-Safety\-::\-Joint\-Safety} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline]}}\label{classgcop__urdf_1_1JointSafety_ae05181bf5a1da0d7776f242464c147d2}


clear variables on construction 



\subsection{\-Member \-Function \-Documentation}
\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}!clear@{clear}}
\index{clear@{clear}!gcop_urdf::JointSafety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf gcop\-\_\-urdf\-::\-Joint\-Safety\-::clear} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [inline]}}\label{classgcop__urdf_1_1JointSafety_a72ebfff37e273d5a04201db6b9c7029c}


\-References k\-\_\-position, k\-\_\-velocity, soft\-\_\-lower\-\_\-limit, and soft\-\_\-upper\-\_\-limit.

\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}!init\-Xml@{init\-Xml}}
\index{init\-Xml@{init\-Xml}!gcop_urdf::JointSafety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}
\subsubsection[{init\-Xml}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf gcop\-\_\-urdf\-::\-Joint\-Safety\-::init\-Xml} (
\begin{DoxyParamCaption}
\item[{\-Ti\-Xml\-Element $\ast$}]{config}
\end{DoxyParamCaption}
)}\label{classgcop__urdf_1_1JointSafety_a1d12b6a477ec55d36d5ac09edcc47857}


\subsection{\-Member \-Data \-Documentation}
\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}!k\-\_\-position@{k\-\_\-position}}
\index{k\-\_\-position@{k\-\_\-position}!gcop_urdf::JointSafety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}
\subsubsection[{k\-\_\-position}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf gcop\-\_\-urdf\-::\-Joint\-Safety\-::k\-\_\-position}}\label{classgcop__urdf_1_1JointSafety_afb46c69aa461d66b5332f1c40402ed61}


\-Referenced by clear().

\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}!k\-\_\-velocity@{k\-\_\-velocity}}
\index{k\-\_\-velocity@{k\-\_\-velocity}!gcop_urdf::JointSafety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}
\subsubsection[{k\-\_\-velocity}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf gcop\-\_\-urdf\-::\-Joint\-Safety\-::k\-\_\-velocity}}\label{classgcop__urdf_1_1JointSafety_a4fc53ec12e87c083a476581f61d3dd8b}


\-Referenced by clear().

\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}!soft\-\_\-lower\-\_\-limit@{soft\-\_\-lower\-\_\-limit}}
\index{soft\-\_\-lower\-\_\-limit@{soft\-\_\-lower\-\_\-limit}!gcop_urdf::JointSafety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}
\subsubsection[{soft\-\_\-lower\-\_\-limit}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf gcop\-\_\-urdf\-::\-Joint\-Safety\-::soft\-\_\-lower\-\_\-limit}}\label{classgcop__urdf_1_1JointSafety_a2053318c20e3863ea11d7ea75c3c93ae}


\-Referenced by clear().

\index{gcop\-\_\-urdf\-::\-Joint\-Safety@{gcop\-\_\-urdf\-::\-Joint\-Safety}!soft\-\_\-upper\-\_\-limit@{soft\-\_\-upper\-\_\-limit}}
\index{soft\-\_\-upper\-\_\-limit@{soft\-\_\-upper\-\_\-limit}!gcop_urdf::JointSafety@{gcop\-\_\-urdf\-::\-Joint\-Safety}}
\subsubsection[{soft\-\_\-upper\-\_\-limit}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf gcop\-\_\-urdf\-::\-Joint\-Safety\-::soft\-\_\-upper\-\_\-limit}}\label{classgcop__urdf_1_1JointSafety_a9de51aa23c54760b67576c0c2055cc8b}
\-I\-M\-P\-O\-R\-T\-A\-N\-T\-: \-The safety controller support is very much \-P\-R2 specific, not intended for generic usage.

\-Basic safety controller operation is as follows

current safety controllers will take effect on joints outside the position range below\-:

position range\-: [\doxyref{\-Joint\-Safety\-::soft\-\_\-lower\-\_\-limit}{p.}{classgcop__urdf_1_1JointSafety_a2053318c20e3863ea11d7ea75c3c93ae} + \doxyref{\-Joint\-Limits\-::velocity}{p.}{classgcop__urdf_1_1JointLimits_addded9098f92abf78c65b53a1dd614e3} / \doxyref{\-Joint\-Safety\-::k\-\_\-position}{p.}{classgcop__urdf_1_1JointSafety_afb46c69aa461d66b5332f1c40402ed61}, \-Joint\-Safety\-::soft\-\_\-uppper\-\_\-limit -\/ \doxyref{\-Joint\-Limits\-::velocity}{p.}{classgcop__urdf_1_1JointLimits_addded9098f92abf78c65b53a1dd614e3} / \doxyref{\-Joint\-Safety\-::k\-\_\-position}{p.}{classgcop__urdf_1_1JointSafety_afb46c69aa461d66b5332f1c40402ed61}]

if (joint\-\_\-position is outside of the position range above) velocity\-\_\-limit\-\_\-min = -\/\-Joint\-Limits\-::velocity + \doxyref{\-Joint\-Safety\-::k\-\_\-position}{p.}{classgcop__urdf_1_1JointSafety_afb46c69aa461d66b5332f1c40402ed61} $\ast$ (joint\-\_\-position -\/ \doxyref{\-Joint\-Safety\-::soft\-\_\-lower\-\_\-limit}{p.}{classgcop__urdf_1_1JointSafety_a2053318c20e3863ea11d7ea75c3c93ae}) velocity\-\_\-limit\-\_\-max = \doxyref{\-Joint\-Limits\-::velocity}{p.}{classgcop__urdf_1_1JointLimits_addded9098f92abf78c65b53a1dd614e3} + \doxyref{\-Joint\-Safety\-::k\-\_\-position}{p.}{classgcop__urdf_1_1JointSafety_afb46c69aa461d66b5332f1c40402ed61} $\ast$ (joint\-\_\-position -\/ \doxyref{\-Joint\-Safety\-::soft\-\_\-upper\-\_\-limit}{p.}{classgcop__urdf_1_1JointSafety_a9de51aa23c54760b67576c0c2055cc8b}) else velocity\-\_\-limit\-\_\-min = -\/\-Joint\-Limits\-::velocity velocity\-\_\-limit\-\_\-max = \doxyref{\-Joint\-Limits\-::velocity}{p.}{classgcop__urdf_1_1JointLimits_addded9098f92abf78c65b53a1dd614e3}

velocity range\-: [velocity\-\_\-limit\-\_\-min + \doxyref{\-Joint\-Limits\-::effort}{p.}{classgcop__urdf_1_1JointLimits_a54c4557c1018e8e3abe2960f97165ba6} / \doxyref{\-Joint\-Safety\-::k\-\_\-velocity}{p.}{classgcop__urdf_1_1JointSafety_a4fc53ec12e87c083a476581f61d3dd8b}, velocity\-\_\-limit\-\_\-max -\/ \doxyref{\-Joint\-Limits\-::effort}{p.}{classgcop__urdf_1_1JointLimits_a54c4557c1018e8e3abe2960f97165ba6} / \doxyref{\-Joint\-Safety\-::k\-\_\-velocity}{p.}{classgcop__urdf_1_1JointSafety_a4fc53ec12e87c083a476581f61d3dd8b}]

if (joint\-\_\-velocity is outside of the velocity range above) effort\-\_\-limit\-\_\-min = -\/\-Joint\-Limits\-::effort + \doxyref{\-Joint\-Safety\-::k\-\_\-velocity}{p.}{classgcop__urdf_1_1JointSafety_a4fc53ec12e87c083a476581f61d3dd8b} $\ast$ (joint\-\_\-velocity -\/ velocity\-\_\-limit\-\_\-min) effort\-\_\-limit\-\_\-max = \doxyref{\-Joint\-Limits\-::effort}{p.}{classgcop__urdf_1_1JointLimits_a54c4557c1018e8e3abe2960f97165ba6} + \doxyref{\-Joint\-Safety\-::k\-\_\-velocity}{p.}{classgcop__urdf_1_1JointSafety_a4fc53ec12e87c083a476581f61d3dd8b} $\ast$ (joint\-\_\-velocity -\/ velocity\-\_\-limit\-\_\-max) else effort\-\_\-limit\-\_\-min = -\/\-Joint\-Limits\-::effort effort\-\_\-limit\-\_\-max = \doxyref{\-Joint\-Limits\-::effort}{p.}{classgcop__urdf_1_1JointLimits_a54c4557c1018e8e3abe2960f97165ba6}

\-Final effort command sent to the joint is saturated by [effort\-\_\-limit\-\_\-min,effort\-\_\-limit\-\_\-max]

\-Please see wiki for more details\-: {\tt http\-://www.\-ros.\-org/wiki/pr2\-\_\-controller\-\_\-manager/safety\-\_\-limits} 

\-Referenced by clear().



\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
lib/utils/{\bf urdfjoint.\-h}\end{DoxyCompactItemize}
